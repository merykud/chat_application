{"ast":null,"code":"var _jsxFileName = \"/Users/merjem/chat_application/react/src/App.js\";\nimport React from 'react';\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Button from \"react-bootstrap/Button\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { Component } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport TextField from '@material-ui/core/TextField';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoggedIn: false,\n      name: '',\n      messages: [],\n      room: \"public\",\n      value: ''\n    };\n    this.client = new W3CWebSocket('ws://localhost:8000/ws/chat/' + this.state.room + '/');\n\n    this.onButtonClicked = e => {\n      this.client.send(JSON.stringify({\n        type: \"message\",\n        message: this.state.value,\n        name: this.state.name,\n        room: this.state.room\n      }));\n      this.state.value = '';\n      e.preventDefault();\n    };\n\n    this.onEnterButtonClicked = () => {\n      var Sentencer = require('sentencer');\n\n      var randAdjective = Sentencer.make(\"{{adjective}}\");\n      var randNoun = Sentencer.make(\"{{noun}}\");\n      var userName = randAdjective + \"_\" + randNoun;\n      this.setState({\n        isLoggedIn: true,\n        name: userName\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.client.onopen = () => {// console.log('WS Client Connected');\n      // this.client.send(JSON.stringify({'command':'fetch_messages'}))\n    };\n\n    this.client.onmessage = message => {\n      const dataFromServer = JSON.parse(message.data); // console.log('reply ', dataFromServer.type);\n\n      if (dataFromServer) {\n        this.setState(state => ({\n          messages: [...state.messages, {\n            msg: dataFromServer.message,\n            name: dataFromServer.name\n          }]\n        }));\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      className: \"main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, this.state.isLoggedIn ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      id: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, \"Chat App\")), /*#__PURE__*/React.createElement(Col, {\n      className: \"exit-button-col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: value => this.setState({\n        isLoggedIn: false,\n        username: ''\n      }),\n      id: \"exit-button\",\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"Exit\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"col-sm-12 message-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, \"Hello, \", this.state.name, \" \\uD83D\\uDC4B\\uD83C\\uDFFC\"))), /*#__PURE__*/React.createElement(Row, {\n      className: \"message-rows\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      id: \"my-paper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, this.state.messages.map(message => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 27\n        }\n      }, \"\\uD83D\\uDC64\"),\n      title: message.name,\n      subheader: message.msg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 23\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"my-form\",\n      noValidate: true,\n      onSubmit: this.onButtonClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"my-text-field\",\n      label: \"Type your message here...\",\n      defaultValue: \"Default Value\" // variant=\"outlined\"\n      ,\n      placeholder: \"Type your message here...\",\n      value: this.state.value,\n      fullWidth: true,\n      onChange: e => {\n        this.setState({\n          value: e.target.value\n        });\n        this.value = this.state.value;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      id: \"send-button\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, \"Send Message\")))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"col-sm-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Jumbotron, {\n      fluid: true,\n      id: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, \"Welcome \\uD83D\\uDCAC\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, \"Connect with people worldwide.\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.onEnterButtonClicked,\n      id: \"enter-button\",\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, \" Enter a chat room\"))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/merjem/chat_application/react/src/App.js"],"names":["React","Container","Row","Col","Jumbotron","Button","Navbar","Component","w3cwebsocket","W3CWebSocket","Header","Footer","TextField","Card","CardHeader","Paper","Avatar","App","state","isLoggedIn","name","messages","room","value","client","onButtonClicked","e","send","JSON","stringify","type","message","preventDefault","onEnterButtonClicked","Sentencer","require","randAdjective","make","randNoun","userName","setState","componentDidMount","onopen","onmessage","dataFromServer","parse","data","msg","render","username","map","target"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Container from \"react-bootstrap/Container\"\nimport Row from \"react-bootstrap/Row\"\nimport Col from \"react-bootstrap/Col\"\nimport Jumbotron from \"react-bootstrap/Jumbotron\"\nimport Button from \"react-bootstrap/Button\"\nimport Navbar from \"react-bootstrap/Navbar\"\nimport { Component } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport Header from \"./Header\"\nimport Footer from \"./Footer\"\nimport TextField from '@material-ui/core/TextField';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\n\nclass App extends Component {\n\n  state = {\n    isLoggedIn: false,\n    name: '',\n    messages: [],\n    room: \"public\",\n    value: '',\n  }\n\n  client = new W3CWebSocket('ws://localhost:8000/ws/chat/' + this.state.room + '/');\n\n  onButtonClicked = (e) => {\n    this.client.send(JSON.stringify({\n      type: \"message\",\n      message: this.state.value,\n      name: this.state.name,\n      room: this.state.room\n    }));\n    this.state.value = ''\n    e.preventDefault();\n  }\n\n  onEnterButtonClicked =() => {\n    var Sentencer = require('sentencer');\n    var randAdjective = Sentencer.make(\"{{adjective}}\");\n    var randNoun = Sentencer.make(\"{{noun}}\");\n    var userName = randAdjective + \"_\" + randNoun;\n    this.setState({\n      isLoggedIn: true,\n      name: userName\n    })\n\n    \n  }\n\n  componentDidMount() {\n    this.client.onopen = () => {\n      // console.log('WS Client Connected');\n      // this.client.send(JSON.stringify({'command':'fetch_messages'}))\n    };\n    this.client.onmessage = (message) => {\n      const dataFromServer = JSON.parse(message.data);\n      // console.log('reply ', dataFromServer.type);\n      if (dataFromServer) {\n        this.setState((state) =>\n        ({\n          messages: [...state.messages,\n          {\n            msg: dataFromServer.message,\n            name: dataFromServer.name,\n          }]\n        })\n        );\n      }\n    };\n  }\n\n  render() {\n\n    return (\n      <Container fluid className=\"main-container\">\n        {this.state.isLoggedIn ?\n\n          <div>\n\n            <Row>\n              <Col className=\"col-6\">\n                <Navbar.Brand id=\"logo\">Chat App</Navbar.Brand>\n              </Col>\n              <Col className=\"exit-button-col\">\n\n                <Button onClick={value =>\n                  this.setState({ isLoggedIn: false, username: '' })\n                }\n\n                  id=\"exit-button\" variant=\"primary\">Exit</Button>\n\n              </Col>\n            </Row>\n            <Row>\n              <Col className=\"col-sm-12 message-row\">\n                <h2>Hello, {this.state.name} ğŸ‘‹ğŸ¼</h2>\n              </Col>\n            </Row>\n\n            <Row className=\"message-rows\">\n              <Col>\n\n                <Paper id=\"my-paper\">\n                  {this.state.messages.map(message => <>\n                    <Card>\n                      <CardHeader\n                        avatar={\n                          <Avatar>\n                            ğŸ‘¤\n                          </Avatar>\n                        }\n                        title={message.name}\n                        subheader={message.msg}\n                      />\n                    </Card>\n                  </>)}\n                </Paper>\n              </Col>\n            </Row>\n\n            <form id=\"my-form\" noValidate onSubmit={this.onButtonClicked}>\n\n              <Row className=\"justify-content-space-between\">\n                <Col sm={10}>\n                  <TextField\n                    id=\"my-text-field\"\n                    label=\"Type your message here...\"\n                    defaultValue=\"Default Value\"\n                    // variant=\"outlined\"\n                    placeholder=\"Type your message here...\"\n                    value={this.state.value}\n                    fullWidth\n                    onChange={e => {\n                      this.setState({ value: e.target.value });\n                      this.value = this.state.value;\n                    }}\n                  />\n                </Col>\n\n                <Col sm={2}>\n                  <Button\n                    type=\"submit\"\n                    id=\"send-button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                  >\n                    Send Message\n                  </Button>\n                </Col>\n              </Row>\n            </form>\n\n            <Footer />\n          </div>\n          :\n\n          <div>\n            <Header />\n            <Row className=\"justify-content-center\">\n              <Col className=\"col-sm-8\">\n                <Jumbotron fluid id=\"jumbotron\">\n                  <Container >\n                    <h1>Welcome ğŸ’¬</h1>\n                    <p>Connect with people worldwide.</p>\n\n                    {/* <Button onClick={() => {\n                      var Sentencer = require('sentencer');\n                      var randAdjective = Sentencer.make(\"{{adjective}}\");\n                      var randNoun = Sentencer.make(\"{{noun}}\");\n                      var userName = randAdjective + \"_\" + randNoun;\n                      this.setState({\n                        isLoggedIn: true,\n                        name: userName\n                      })\n\n                    }} */}\n                    <Button onClick={this.onEnterButtonClicked}\n\n                      id=\"enter-button\" variant=\"primary\"> Enter a chat room</Button>\n\n                  </Container>\n                </Jumbotron>\n              </Col>\n            </Row>\n            <Footer />\n\n          </div>\n        }\n      </Container>\n    )\n\n  }\n}\nexport default (App)"]},"metadata":{},"sourceType":"module"}